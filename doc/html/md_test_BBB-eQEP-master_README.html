<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ProjetImplementation: BBB eQEP Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ProjetImplementation
   </div>
   <div id="projectbrief">Projet d&#39;implementation d&#39;un systeme robotique</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_test_BBB-eQEP-master_README.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="namespaceBBB.html">BBB</a> eQEP Library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p class="">bbb-eqep is a library for accessing the eQEP modules built into the Beaglebone Black's microprocessor. Although this library has only been tested on the <a class="el" href="namespaceBBB.html">BBB</a>, it will likely work on other TI processors that include the eQEP modules.</p>
<h1>Building and Installation </h1>
<p class="">Please see the INSTALL file for detailed instructions. Here's the basics:</p>
<div class="fragment"><div class="line">autoreconf</div><div class="line">./configure</div><div class="line">make</div><div class="line">make install</div></div><!-- fragment --><p class="">If you have Doxygen installed, the docs folder will be filled with documentation.</p>
<h1>Programming Tutorial </h1>
<p class="">First, pinmux the eQEP pins and enable the associated PWM module. </p><div class="fragment"><div class="line"># echo fast_eQEP0 &gt; /sys/devices/bone_capemgr.*/slots</div></div><!-- fragment --><p class="">Using the library is as simple as passing the eQEP number or base address to the constructor, and calling getPosition().</p>
<div class="fragment"><div class="line">eQEP eqep0(0);</div><div class="line">eQEP eqep2(<a class="code" href="BBB-eQEP-master_2include_2bbb-eqep_8h.html#a2dfbafc696aef9c14226ce25fb77c5f1">eQEP2</a>);</div><div class="line">uint32_t eqep_pos = eqep.getPosition();</div></div><!-- fragment --><p class="">The eQEP class also has a default cast to <code>uint32_t</code> so the last line can be shortened to:</p>
<div class="fragment"><div class="line">uint32_t eqep_pos = eqep;</div></div><!-- fragment --><p class="">Please see the test.cpp file for more example usages.</p>
<p class="">Accessor methods are provided for virtually every eQEP feature. All of these are best viewed through the Doxygen generated documentation. Instantiating an eQEP sets standard defaults across the eQEP block and makes this library incompatible with other eQEP reading solutions.</p>
<h1>Prerequisites </h1>
<p class="">Since this library relies heavily on <code>mmap()</code> and direct memory access, likely the resultant programs will require root priviledges to run. Please let me know if you figure out a way to operate this library in userspace.</p>
<h1>Test Program Output </h1>
<div class="fragment"><div class="line">$ sudo examples/test 0</div><div class="line">SYSCONFIG 0xC</div><div class="line">CLKCONFIG 0x111</div><div class="line">QEPCTL0   0x8</div><div class="line">QDECCTL0  0x0</div><div class="line">QEINT0    0x0</div><div class="line">QUPRD0    0x0</div><div class="line">QPOSMAX0  0xFFFFFFFF</div><div class="line">QEPSTS0   0x80</div><div class="line">last position: 920723</div><div class="line">micros per read: 0.218907</div><div class="line">quadrature read kHz: 4568.149902</div><div class="line">revid: 0x44D31103 (should read 44D31103)</div><div class="line">eqep: 920723</div></div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
